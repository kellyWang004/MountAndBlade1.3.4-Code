<Prefab>
  <Parameters>
    <Parameter Name="IsSmall" DefaultValue="false" />
  </Parameters>
  <Constants>
    <Constant Name="BorderWidth" BooleanCheck="*IsSmall" OnTrue="46.25" OnFalse="92.5" />
    <Constant Name="BorderHeight" BooleanCheck="*IsSmall" OnTrue="35" OnFalse="70" />
    <Constant Name="ImageIdentifierWidth" BooleanCheck="*IsSmall" OnTrue="41.25" OnFalse="82.5" />
    <Constant Name="ImageIdentifierHeight" BooleanCheck="*IsSmall" OnTrue="30" OnFalse="60" />
    <Constant Name="ImageIdentifierMargin" BooleanCheck="*IsSmall" OnTrue="2.5" OnFalse="5" />
  </Constants>
  <Window>
    <Widget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
      <Children>
        <OrderOfBattleHeroButtonWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!BorderWidth" SuggestedHeight="!BorderHeight" Command.Click="ExecuteToggleSelect" Brush="OrderOfBattle.CaptainSlot.Frame" IsSelected="@IsSelected" IsDisabled="@IsDisabled" AcceptDrag="true" DragWidget="DragWidget" Command.DragBegin="ExecuteSelect" IsMainHero="@IsMainHero" MainHeroHueFactor="130" DoNotPassEventsToChildren="true" UpdateChildrenStates="true" CanMainHeroAcceptEvents="false">
          <Children>
            <!-- Background -->
            <BrushWidget DoNotAcceptEvents="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="!ImageIdentifierHeight" HorizontalAlignment="Center" MarginLeft="!ImageIdentifierMargin" MarginTop="!ImageIdentifierMargin" MarginRight="!ImageIdentifierMargin" MarginBottom="!ImageIdentifierMargin" Brush="OrderOfBattle.CaptainSlot.Background"/>

            <!-- Visual -->
            <ImageIdentifierWidget DoNotAcceptEvents="true" DataSource="{ImageIdentifier}" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!ImageIdentifierWidth" SuggestedHeight="!ImageIdentifierHeight" MarginLeft="!ImageIdentifierMargin" MarginTop="!ImageIdentifierMargin" AdditionalArgs="@AdditionalArgs" ImageId="@Id" TextureProviderName="@TextureProviderName" />

            <!-- Tooltip -->
            <HintWidget DataSource="{Tooltip}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>

            <!-- Dragged Widget -->
            <BrushWidget Id="DragWidget" DoNotAcceptEvents="true" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!BorderWidth" SuggestedHeight="!BorderHeight" Brush="OrderOfBattle.CaptainSlot.Frame">
              <Children>
                <BrushWidget DoNotAcceptEvents="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="!ImageIdentifierHeight" HorizontalAlignment="Center" MarginLeft="!ImageIdentifierMargin" MarginTop="!ImageIdentifierMargin" MarginRight="!ImageIdentifierMargin" MarginBottom="!ImageIdentifierMargin" Brush="OrderOfBattle.CaptainSlot.Background"/>
                <ImageIdentifierWidget DoNotAcceptEvents="true" DataSource="{ImageIdentifier}" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!ImageIdentifierWidth" SuggestedHeight="!ImageIdentifierHeight" MarginLeft="!ImageIdentifierMargin" MarginTop="!ImageIdentifierMargin" AdditionalArgs="@AdditionalArgs" ImageId="@Id" TextureProviderName="@TextureProviderName" />
              </Children>
            </BrushWidget>

            <TutorialHighlightItemBrushWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="TutorialHighlightBrush" IsHighlightEnabled="@IsHighlightActive" IsVisible="false" DoNotAcceptEvents="true"/>
          </Children>
        </OrderOfBattleHeroButtonWidget>
        <!-- Disabled Tooltip -->
        <HintWidget DataSource="{Tooltip}" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
      </Children>
    </Widget>
  </Window>
</Prefab>