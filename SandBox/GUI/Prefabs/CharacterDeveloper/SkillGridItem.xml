<Prefab>
  <Parameters>
    <Parameter Name="HasExtraSkills" DefaultValue="false" />
  </Parameters>
  <Constants>

    <Constant Name="CharacterDeveloper.SkillButtonBackground.Width" BrushLayer="Default" BrushName="CharacterDeveloper.SkillButtonBackground" BrushValueType="Width" />
    <Constant Name="CharacterDeveloper.SkillButtonBackground.Height" BooleanCheck="*HasExtraSkills" OnTrue="!CharacterDeveloper.SkillButtonBackground.Height.Small" OnFalse="!CharacterDeveloper.SkillButtonBackground.Height.Default" />

    <Constant Name="CharacterDeveloper.SkillButtonBackground.Height.Default" BrushLayer="Default" BrushName="CharacterDeveloper.SkillButtonBackground" BrushValueType="Height" />
    <Constant Name="CharacterDeveloper.SkillButtonBackground.Height.Small" BrushLayer="Default" BrushName="CharacterDeveloper.SkillButtonBackground" BrushValueType="Height" MultiplyResult="0.857" />

    <Constant Name="NameText.Height" BooleanCheck="*HasExtraSkills" OnTrue="24" OnFalse="30" />

    <Constant Name="SkillIcon.Size" BooleanCheck="*HasExtraSkills" OnTrue="65" OnFalse="76" />
    <Constant Name="SkillIconShadow.Width" BooleanCheck="*HasExtraSkills" OnTrue="78" OnFalse="92" />
    <Constant Name="SkillIconShadow.Height" BooleanCheck="*HasExtraSkills" OnTrue="80" OnFalse="94" />
    <Constant Name="SkillIconShadow.MarginLeft" BooleanCheck="*HasExtraSkills" OnTrue="5" OnFalse="0" />
    
    <Constant Name="LevelText.MarginBottom" BooleanCheck="*HasExtraSkills" OnTrue="36" OnFalse="46" />
    <Constant Name="SkillPoints.MarginBottom" BooleanCheck="*HasExtraSkills" OnTrue="6" OnFalse="16" />

  </Constants>
  <Window>
    <SkillGridItemButtonWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!CharacterDeveloper.SkillButtonBackground.Width" SuggestedHeight="!CharacterDeveloper.SkillButtonBackground.Height" VerticalAlignment="Top" CanLearnBrush="CharacterDeveloper.SkillButtonBackground" CannotLearnBrush="CharacterDeveloper.SkillButtonBackground.CannotLearn" Command.Click="ExecuteInspect" CurrentFocusLevel="@CurrentFocusLevel" FocusLevelWidget="FocusLevelWidget" IsSelected="@IsInspected" Command.AlternateClick="ExecuteShowSkillConcept" CanLearnSkill="@CanLearnSkill">
      <Children>

        <TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="!NameText.Height" VerticalAlignment="Top" MarginLeft="10" Brush="CharacterDeveloper.GridSkillName.Text" IsEnabled="@CanLearnSkill" Text="@NameText" DoNotAcceptEvents="true"/>

        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!SkillIconShadow.Width" SuggestedHeight="!SkillIconShadow.Height" HorizontalAlignment="Left" MarginLeft="!SkillIconShadow.MarginLeft" MarginTop="28" Sprite="CharacterDeveloper\skills_icon_shadow" IsDisabled="true">
          <Children>
            <SkillIconVisualWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!SkillIcon.Size" SuggestedHeight="!SkillIcon.Size" HorizontalAlignment="Center" VerticalAlignment="Center" SkillId="@SkillId"  UseSmallVariation="true"/>
          </Children>
        </Widget>

        <TextWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="80" SuggestedHeight="40" HorizontalAlignment="Center" VerticalAlignment="Bottom" MarginLeft="82" MarginBottom="!LevelText.MarginBottom" Brush="CharacterDeveloper.GridSkillLevel.Text" IntText="@Level" DoNotAcceptEvents="true" IsEnabled="@CanLearnSkill"/>

        <BrushWidget Id="FocusLevelWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="87" SuggestedHeight="43" HorizontalAlignment="Right" VerticalAlignment="Bottom" MarginRight="3" MarginBottom="10" Brush="SkillFocusLevelBrush" IsDisabled="true" IsVisible="false"/>

        <SkillPointsContainerListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" VerticalAlignment="Bottom" MarginBottom="!SkillPoints.MarginBottom" MarginRight="5" CurrentFocusLevel="@CurrentFocusLevel" IsEnabled="false">
          <Children>
            <BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="11" SuggestedHeight="30" Brush="Skill.Point.Small" MarginRight="5" ForcePixelPerfectRenderPlacement="true"/>
            <BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="11" SuggestedHeight="30" Brush="Skill.Point.Small" MarginRight="5" ForcePixelPerfectRenderPlacement="true"/>
            <BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="11" SuggestedHeight="30" Brush="Skill.Point.Small" MarginRight="5" ForcePixelPerfectRenderPlacement="true"/>
            <BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="11" SuggestedHeight="30" Brush="Skill.Point.Small" MarginRight="5" ForcePixelPerfectRenderPlacement="true"/>
            <BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="11" SuggestedHeight="30" Brush="Skill.Point.Small" MarginRight="2" ForcePixelPerfectRenderPlacement="true"/>
          </Children>
        </SkillPointsContainerListPanel>

        <!-- <HintWidget DataSource="{SkillFocusAndLevelHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="true" /> -->
        <ValueBasedVisibilityWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="33" SuggestedHeight="36" IndexToBeVisible="0" WatchType="BiggerThan" IndexToWatch="@NumOfUnopenedPerks" HorizontalAlignment="Right" VerticalAlignment="Top" PositionYOffset="-4" IsEnabled="false">
          <Children>
            <BrushWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="CharacterDeveloper.PerkNotificationBrush"/>
            <TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush.FontSize="18"  IntText="@NumOfUnopenedPerks" ClipContents="false"/>
          </Children>
        </ValueBasedVisibilityWidget>


      </Children>
    </SkillGridItemButtonWidget>
  </Window>
</Prefab>