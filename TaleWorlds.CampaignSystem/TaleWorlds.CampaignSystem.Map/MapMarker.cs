using System.Collections.Generic;
using TaleWorlds.Core;
using TaleWorlds.Library;
using TaleWorlds.Localization;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.Map;

public class MapMarker : ITrackableCampaignObject, ITrackableBase
{
	[SaveableProperty(1)]
	public Banner Banner { get; private set; }

	[SaveableProperty(2)]
	public TextObject Name { get; private set; }

	[SaveableProperty(3)]
	public Vec3 Position { get; private set; }

	[SaveableProperty(4)]
	public bool IsVisibleOnMap { get; set; }

	[SaveableProperty(5)]
	public string QuestId { get; private set; }

	public bool IsReady => true;

	internal static void AutoGeneratedStaticCollectObjectsMapMarker(object o, List<object> collectedObjects)
	{
		((MapMarker)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
	}

	protected virtual void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
	{
		collectedObjects.Add(Banner);
		collectedObjects.Add(Name);
	}

	internal static object AutoGeneratedGetMemberValueBanner(object o)
	{
		return ((MapMarker)o).Banner;
	}

	internal static object AutoGeneratedGetMemberValueName(object o)
	{
		return ((MapMarker)o).Name;
	}

	internal static object AutoGeneratedGetMemberValuePosition(object o)
	{
		return ((MapMarker)o).Position;
	}

	internal static object AutoGeneratedGetMemberValueIsVisibleOnMap(object o)
	{
		return ((MapMarker)o).IsVisibleOnMap;
	}

	internal static object AutoGeneratedGetMemberValueQuestId(object o)
	{
		return ((MapMarker)o).QuestId;
	}

	public MapMarker(Banner banner, TextObject name, Vec3 position, bool isVisibleOnMap, string questId)
	{
		Banner = banner;
		Name = name;
		Position = position;
		IsVisibleOnMap = isVisibleOnMap;
		QuestId = questId;
	}

	public Banner GetBanner()
	{
		return Banner;
	}

	public TextObject GetName()
	{
		return Name;
	}

	public Vec3 GetPosition()
	{
		return Position;
	}
}
