using System.Collections.Generic;
using System.Xml;
using TaleWorlds.ObjectSystem;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.Settlements;

public class RetirementSettlementComponent : SettlementComponent, ISpottable
{
	[SaveableField(10)]
	private bool _isSpotted;

	public bool IsSpotted
	{
		get
		{
			return _isSpotted;
		}
		set
		{
			_isSpotted = value;
		}
	}

	public override IFaction MapFaction => null;

	internal static void AutoGeneratedStaticCollectObjectsRetirementSettlementComponent(object o, List<object> collectedObjects)
	{
		((RetirementSettlementComponent)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
	}

	protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
	{
		base.AutoGeneratedInstanceCollectObjects(collectedObjects);
	}

	internal static object AutoGeneratedGetMemberValue_isSpotted(object o)
	{
		return ((RetirementSettlementComponent)o)._isSpotted;
	}

	public override void Deserialize(MBObjectManager objectManager, XmlNode node)
	{
		base.Deserialize(objectManager, node);
		if (node.Attributes["background_crop_position"] != null)
		{
			base.BackgroundCropPosition = float.Parse(node.Attributes["background_crop_position"].Value);
		}
		if (node.Attributes["background_mesh"] != null)
		{
			base.BackgroundMeshName = node.Attributes["background_mesh"].Value;
		}
		if (node.Attributes["wait_mesh"] != null)
		{
			base.WaitMeshName = node.Attributes["wait_mesh"].Value;
		}
	}
}
