<Prefab>
  <Window>
    <OptionsItemWidget Id="OptionItem" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="1000" SuggestedHeight="50" ActionOption="ListPanel\Option\ActionOption" BooleanOption="ListPanel\Option\BooleanOption" BooleanToggleButtonWidget="ListPanel\Option\BooleanOption\BoolButton" GameKeyOption="ListPanel\Option\GameKeyOption" ImageIDs="@ImageIDs" InputOption="ListPanel\Option\InputOption" NumericOption="ListPanel\Option\NumericOption" OptionDescription="@Description" OptionTitle="@Name" OptionTypeID="@OptionTypeID" StringOption="ListPanel\Option\StringOption" DropdownWidget="ListPanel\Option\StringOption\DropdownParent" IsOptionEnabled="@IsEnabled">
      <Children>

        <ListPanel Id="ListPanel" DoNotAcceptEvents="true" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" StackLayout.LayoutMethod="HorizontalLeftToRight"  >
          <Children>

            <TextWidget DoNotAcceptEvents="true" WidthSizePolicy="Fixed" HeightSizePolicy="CoverChildren" SuggestedWidth="500" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="SPOptions.OptionName.Text" Text="@Name" IsEnabled="@IsEnabled"/>

            <Widget Id="Option" DoNotAcceptEvents="true" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" MarginLeft="40" IsEnabled="@IsEnabled">
              <Children>

                <Widget Id="BooleanOption" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" IsVisible="false">
                  <Children>

                    <NavigationTargetSwitcher FromTarget="..\." ToTarget="..\BoolButton" />
                    <NavigationAutoScrollWidget TrackedWidget="..\BoolButton" AutoScrollTopOffset="90" AutoScrollBottomOffset="90" />
										
                    <ButtonWidget Id="BoolButton" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="40" SuggestedHeight="40" MarginLeft="175" Brush="SPOptions.Checkbox.Empty.Button" VerticalAlignment="Center" ButtonType="Toggle" IsSelected="@OptionValueAsBoolean" ToggleIndicator="ToggleIndicator" UpdateChildrenStates="true">
                      <Children>
                        <BrushWidget Id="ToggleIndicator" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="SPOptions.Checkbox.Full.Button" />
                      </Children>
                    </ButtonWidget>
                  </Children>
                </Widget>

                <ListPanel Id="NumericOption" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Left" VerticalAlignment="Center" MarginLeft="20" IsVisible="false">
                  <Children>

                    <NavigationTargetSwitcher FromTarget="..\." ToTarget="..\Slider\SliderHandle" />
                    <NavigationAutoScrollWidget TrackedWidget="..\Slider\SliderHandle" AutoScrollTopOffset="90" AutoScrollBottomOffset="90" />

                    <SliderWidget Id="Slider" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="338" SuggestedHeight="42" VerticalAlignment="Center" DoNotUpdateHandleSize="true" Filler="Filler" Handle="SliderHandle" IsDiscrete="@IsDiscrete" DiscreteIncrementInterval="@DiscreteIncrementInterval" MaxValueFloat="@Max" MinValueFloat="@Min" ValueFloat="@OptionValue" UpdateValueContinuously="@UpdateContinuously">
                      <Children>
                        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="362" SuggestedHeight="38" HorizontalAlignment="Center" VerticalAlignment="Center" Sprite="SPGeneral\SPOptions\standart_slider_canvas" DoNotAcceptEvents="true" />
                        <Widget Id="Filler" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="345" SuggestedHeight="35" VerticalAlignment="Center" Sprite="SPGeneral\SPOptions\standart_slider_fill" ClipContents="true">
                          <Children>
                            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="345" SuggestedHeight="35" HorizontalAlignment="Left" VerticalAlignment="Center" Sprite="SPGeneral\SPOptions\standart_slider_fill" />
                          </Children>
                        </Widget>
                        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="400" SuggestedHeight="65" HorizontalAlignment="Center" VerticalAlignment="Center" Sprite="SPGeneral\SPOptions\standart_slider_frame" DoNotAcceptEvents="true" />
                        <ImageWidget Id="SliderHandle" DoNotAcceptEvents="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="14" SuggestedHeight="38" HorizontalAlignment="Left" VerticalAlignment="Center" Brush="SPOptions.Slider.Handle" />
                      </Children>
                    </SliderWidget>

                    <RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginLeft="60" MarginTop="8" Brush="SPOptions.Slider.Value.Text" IsEnabled="false" Text="@OptionValueAsString" />
                  </Children>
                </ListPanel>

                <Widget Id="ActionOption" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" MarginLeft="25" IsVisible="false">
                  <Children>

                    <NavigationTargetSwitcher FromTarget="..\." ToTarget="..\ActionOptionButton" />
                    <NavigationAutoScrollWidget TrackedWidget="..\ActionOptionButton" AutoScrollTopOffset="90" AutoScrollBottomOffset="90" />
										
                    <ButtonWidget Id="ActionOptionButton" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="338" SuggestedHeight="42" HorizontalAlignment="Left" VerticalAlignment="Center" Command.Click="ExecuteAction" ExtendCursorAreaLeft="20" ExtendCursorAreaRight="20">
                      <Children>
                        <BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="362" SuggestedHeight="38" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="SPOptions.GameKey.Button.Canvas" IsEnabled="false" />
                        <BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="400" SuggestedHeight="65" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="SPOptions.GameKey.Button.Frame" IsEnabled="false" />
                        <TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="SPOptions.Dropdown.Center.Text" VerticalAlignment="Center" MarginTop="5" Text="@ActionName" />
                      </Children>
                    </ButtonWidget>
                  </Children>
                </Widget>

                <NavigationAutoScrollWidget TrackedWidget="..\StringOption" AutoScrollTopOffset="90" AutoScrollBottomOffset="90" />
                <Standard.DropdownWithHorizontalControl Id="StringOption" VerticalAlignment="Center" IsVisible="false" Parameter.SelectorDataSource="{Selector}" />

                <Widget Id="InputOption" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" IsVisible="false" />

                <Widget Id="GameKeyOption" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" IsVisible="false" />

              </Children>
            </Widget>

          </Children>
        </ListPanel>

        <DimensionSyncWidget DoNotAcceptEvents="true" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" DimensionToSync="Horizontal" WidgetToCopyHeightFrom="..\." UpdateChildrenStates="true">
          <Children>
            <HintWidget DataSource="{Hint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsEnabled="false"/>
          </Children>
        </DimensionSyncWidget>

      </Children>
    </OptionsItemWidget>
  </Window>
</Prefab>