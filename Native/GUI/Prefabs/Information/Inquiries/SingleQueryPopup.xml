<Prefab>
  <Window>

    <SingleQueryParentWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" DescriptionScrollablePanel="SingleQueryPopupParent\SingleQueryContentList\DescriptionParent\ScrollablePanel" DescriptionScrollbar="SingleQueryPopupParent\SingleQueryContentList\DescriptionParent\VerticalScrollbar">
      <Children>

        <!--Single Query-->
        <DimensionSyncWidget Id="SingleQueryPopupParent" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="512" HorizontalAlignment="Center" VerticalAlignment="Center" PositionYOffset="-50" DimensionToSync="Vertical" WidgetToCopyHeightFrom="SingleQueryContentList">
          <Children>

            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="512" ClipContents="true">
              <Children>
                <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="512" SuggestedHeight="645" HorizontalAlignment="Center" VerticalAlignment="Top" Sprite="StdAssets\Popup\canvas" />
              </Children>
            </Widget>

            <ListPanel Id="SingleQueryContentList" WidthSizePolicy="Fixed" HeightSizePolicy="CoverChildren" SuggestedWidth="512" StackLayout.LayoutMethod="VerticalBottomToTop">
              <Children>

                <!--Title-->
                <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop">
                  <Children>
                    <AutoHideRichTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginLeft="30" MarginRight="30" MarginTop="10" MinHeight="50" Brush="Popup.Title.Text" Text="@TitleText" WidgetToHideIfEmpty="..\." />

                    <!--Divider-->
                    <Widget Id="TitleDivider" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="23" Sprite="StdAssets\Popup\divider" />
                  </Children>
                </ListPanel>

                <!--Description-->
                <NavigationScopeTargeter ScopeID="SingleQueryPopupDescriptionScope" ScopeParent="..\DescriptionParent"/>
                <Widget Id="DescriptionParent" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren">
                  <Children>
                    <ScrollablePanel Id="ScrollablePanel" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginLeft="30" MarginRight="30" AutoHideScrollBars="true" ClipRect="ClipRect" InnerPanel="ClipRect\Description" VerticalScrollbar="..\VerticalScrollbar">
                      <Children>
                        <Widget Id="ClipRect" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MaxHeight="480" ClipContents="true">
                          <Children>
                            <!--Description Text-->
                            <RichTextWidget Id="Description" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20" MarginBottom="20" Brush="Popup.Description.Text" Brush.TextVerticalAlignment="Top" MinHeight="10" Text="@PopUpLabel" />
                          </Children>
                        </Widget>
                      </Children>
                    </ScrollablePanel>

                    <ScrollbarWidget Id="VerticalScrollbar" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="6" SuggestedHeight="480" HorizontalAlignment="Right" VerticalAlignment="Top" MarginRight="8" AlignmentAxis="Vertical" Handle="VerticalScrollbarHandle" MaxValue="100" MinValue="0" IsVisible="false">
                      <Children>
                        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="2" HorizontalAlignment="Center" Sprite="BlankWhiteSquare_9" Color="#5a4033FF" AlphaFactor="0.4" />
                        <ImageWidget Id="VerticalScrollbarHandle" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedHeight="10" SuggestedWidth="6" HorizontalAlignment="Center" Brush="FaceGen.Scrollbar.Handle" />
                      </Children>
                    </ScrollbarWidget>
                  </Children>
                </Widget>

                <!--Control Buttons-->
                <NavigationForcedScopeCollectionTargeter CollectionParent="..\." />
                <NavigationScopeTargeter ScopeID="SingleQueryPopupButtonsScope" ScopeParent="..\ControlButtons" ScopeMovements="Horizontal"/>
                <ListPanel Id="ControlButtons" WidthSizePolicy="CoverChildren" SuggestedHeight="70" HorizontalAlignment="Center" VerticalAlignment="Bottom" MarginLeft="35" MarginRight="35" StackLayout.LayoutMethod="HorizontalLeftToRight">
                  <Children>

                    <Widget Id="ButtonCancelContainer" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="251" SuggestedHeight="64" HorizontalAlignment="Right" VerticalAlignment="Center" IsVisible="@IsButtonCancelShown">
                      <Children>
                        <ButtonWidget Id="SingleQueryCancelButton" DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Popup.Cancel.Button" Command.Click="ExecuteNegativeAction" IsEnabled="@IsButtonCancelEnabled" ExtendCursorAreaLeft="-10" ExtendCursorAreaRight="-10" ExtendCursorAreaTop="-10" ExtendCursorAreaBottom="-10" GamepadNavigationIndex="0">
                          <Children>
                            <TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="35" VerticalAlignment="Center" MarginLeft="47" MarginRight="40" Brush="Popup.Button.Text" Text="@ButtonCancelLabel" />
                            <InputKeyVisualWidget DataSource="{CancelInputKey}" DoNotAcceptEvents="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="45" SuggestedHeight="45" HorizontalAlignment="Left" VerticalAlignment="Center" PositionXOffset="12" KeyID="@KeyID" IsVisible="@IsVisible" />
                            <HintWidget DataSource="{ButtonCancelHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="true" />
                          </Children>
                        </ButtonWidget>
                        <HintWidget DataSource="{ButtonCancelHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="true" />
                      </Children>
                    </Widget>

                    <Widget Id="ButtonOkContainer" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="251" SuggestedHeight="64" HorizontalAlignment="Right" VerticalAlignment="Center" IsVisible="@IsButtonOkShown">
                      <Children>
                        <ButtonWidget Id="SingleQueryOkButton" DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Popup.Done.Button" Command.Click="ExecuteAffirmativeAction" IsEnabled="@IsButtonOkEnabled" ExtendCursorAreaLeft="-10" ExtendCursorAreaRight="-10" ExtendCursorAreaTop="-10" ExtendCursorAreaBottom="-10" GamepadNavigationIndex="1">
                          <Children>
                            <TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="35" VerticalAlignment="Center" MarginLeft="47" MarginRight="40" Brush="Popup.Button.Text" Text="@ButtonOkLabel" />
                            <InputKeyVisualWidget DataSource="{DoneInputKey}" DoNotAcceptEvents="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="45" SuggestedHeight="45" HorizontalAlignment="Left" VerticalAlignment="Center" PositionXOffset="12" KeyID="@KeyID" IsVisible="@IsVisible"/>
                            <HintWidget DataSource="{ButtonOkHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="true" />
                          </Children>
                        </ButtonWidget>
                        <HintWidget DataSource="{ButtonOkHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="true" />
                      </Children>
                    </Widget>

                  </Children>
                </ListPanel>

              </Children>
            </ListPanel>

            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="StdAssets\Popup\canvas_gradient" IsEnabled="false" />

            <!--Frame Border-->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="frame_9" ExtendLeft="18" ExtendTop="18" ExtendRight="18" ExtendBottom="18" IsEnabled="false" />

            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedHeight="46" SuggestedWidth="323" HorizontalAlignment="Center" VerticalAlignment="Bottom" PositionYOffset="50" IsVisible="@IsTimerShown" Sprite="StdAssets\Popup\progress_bar_background">
              <Children>
                <FillBarWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedHeight="20" SuggestedWidth="230" HorizontalAlignment="Center" VerticalAlignment="Top" MarginTop="3" FillWidget="FillWidget" InitialAmountAsFloat="@RemainingQueryTime" MaxAmountAsFloat="@TotalQueryTime">
                  <Children>
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="5" MarginRight="5" MarginTop="5" MarginBottom="5" HorizontalAlignment="Left" VerticalAlignment="Center" Sprite="StdAssets\Popup\progress_bar_canvas" />
                    <Widget ClipContents="true" Id="FillWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedHeight="16" HorizontalAlignment="Left" VerticalAlignment="Center">
                      <Children>
                        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="230" SuggestedHeight="18" HorizontalAlignment="Left" VerticalAlignment="Center" Sprite="StdAssets\Popup\progress_bar_fill" ColorFactor="1.1" />
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="escape_menu_gradient_9"/>
                      </Children>
                    </Widget>
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="-5" MarginRight="-5" Sprite="StdAssets\Popup\progress_bar_frame" ColorFactor="2.1"/>
                  </Children>
                </FillBarWidget>

                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" MarginLeft="10" MarginRight="10" SuggestedHeight="12" Sprite="SettlementLeftPanelFilter_9" Color="#000000FF"/>
              </Children>
            </Widget>

          </Children>
        </DimensionSyncWidget>

      </Children>
    </SingleQueryParentWidget>

  </Window>
</Prefab>